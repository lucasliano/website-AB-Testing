<header
  class="fixed top-0 inset-x-0 z-50 bg-transparent transition-colors duration-300"
  id="site-header"
>
  <nav
    class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between"
    role="navigation"
    aria-label="Main navigation"
  >
    <a href="/" class="flex items-center gap-2">
      <span class="inline-flex h-7 w-7 rounded-lg bg-blue-900 text-white text-xs font-bold items-center justify-center">
        RF
      </span>
      <span class="font-semibold text-gray-900 tracking-tight">
        OpenRF Instruments
      </span>
    </a>

    <button
      class="md:hidden inline-flex items-center justify-center p-2 rounded-lg border border-gray-300"
      type="button"
      aria-label="Toggle navigation menu"
      aria-expanded="false"
      aria-controls="mobile-menu"
      id="nav-toggle"
    >
      <span class="sr-only">Open main menu</span>
      <span class="block w-5 h-0.5 bg-gray-800 mb-1"></span>
      <span class="block w-5 h-0.5 bg-gray-800 mb-1"></span>
      <span class="block w-5 h-0.5 bg-gray-800"></span>
    </button>

    <div class="hidden md:flex items-center gap-6 text-sm font-medium">
      <a href="/product" class="hover:text-blue-900">Product</a>
      <a href="/#applications" class="hover:text-blue-900">Applications</a>
      <a href="/universities" class="hover:text-blue-900">Universities</a>
      <a href="/documentation" class="hover:text-blue-900">Documentation</a>
      <a href="/about" class="hover:text-blue-900">About</a>
      <a
        href="/product"
        class="px-4 py-2 rounded-lg bg-blue-900 text-white text-sm font-semibold shadow-sm hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900"
        data-event-name="click_buy-now_navbar"
      >
        Buy now
      </a>
    </div>
  </nav>

  <div
    class="md:hidden hidden border-t border-gray-200 bg-white"
    id="mobile-menu"
  >
    <div class="max-w-6xl mx-auto px-4 py-4 space-y-3 text-sm font-medium">
      <a href="/product" class="block">Product</a>
      <a href="/#applications" class="block">Applications</a>
      <a href="/universities" class="block">Universities</a>
      <a href="/documentation" class="block">Documentation</a>
      <a href="/about" class="block">About</a>
      <a
        href="/product"
        class="inline-flex w-full justify-center px-4 py-2 rounded-lg bg-blue-900 text-white text-sm font-semibold shadow-sm"
        data-event-name="click_buy-now_navbar-mobile"
      >
        Buy now
      </a>
    </div>
  </div>

  <script>
    // Small inline script for nav scroll background & mobile menu
    (function () {
      const header = document.getElementById("site-header");
      const toggle = document.getElementById("nav-toggle");
      const mobileMenu = document.getElementById("mobile-menu");

      function onScroll() {
        if (window.scrollY > 10) {
          header.classList.add("bg-white", "shadow-md");
        } else {
          header.classList.remove("bg-white", "shadow-md");
        }
      }
      window.addEventListener("scroll", onScroll);
      onScroll();

      if (toggle && mobileMenu) {
        toggle.addEventListener("click", function () {
          const expanded = this.getAttribute("aria-expanded") === "true";
          this.setAttribute("aria-expanded", String(!expanded));
          mobileMenu.classList.toggle("hidden");
        });
      }
    })();
  </script>
</header>
